<!DOCTYPE html>
<html lang="en">
  <head>
    
<meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>


<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />



  <meta name="description" content="database questions review"/>




  <meta name="keywords" content="database," />




  <link rel="alternate" href="/default" title="Stewart">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=2.4.x" />



<link rel="canonical" href="http://yoursite.com/2017/10/09/database/"/>


<meta name="description" content="database questions review">
<meta name="keywords" content="database">
<meta property="og:type" content="article">
<meta property="og:title" content="database">
<meta property="og:url" content="http://yoursite.com/2017/10/09/database/index.html">
<meta property="og:site_name" content="Stewart">
<meta property="og:description" content="database questions review">
<meta property="og:image" content="https://lh3.googleusercontent.com/4uK2KdyZQ4faAdOZSNHV-wQlXGRsSNY1mA2HKtGFwuSoiK4lm3GdHsA3TE-C1gxl-rbpyeJ0-IrrAUQTsJp3HL908_zTRp-TnnfQ3_OgBIVquemXkoT1v0MFZSzJMDu7kxtCB7OyBw">
<meta property="og:image" content="https://lh3.googleusercontent.com/g5STD0f-sAMFWdPt_qz-PejAavBt5X_aJTRcY4ehkgeZL2-LGF1hCcjaTcoqHQWywoa7hveb4hQWiRNH8duj2p7kmJJSXwBE5FLDyPlyuXY1_n0uvUPtmCIuDBJ82MrBY4l_DqLsNg">
<meta property="og:image" content="https://lh3.googleusercontent.com/ryjSfmU2QkL6eujCQwk8ypZ_VuoEWZ887PvZWaJN2w3NHyMvFTrPXX7iMi5148ygZjPwzGg6fDu2tIfzyTehXQ3ysofB_c__1D3k-pCGtcUgA8DBZ9CFk-mzub7CGOCwXhDVAT1ZLA">
<meta property="og:image" content="https://lh3.googleusercontent.com/3OZv-4kbUo9Z00aHDEEuvS8iuhS3BnM90qMmaa53j3G_kvMeC6kgm_4JE5qZS-kqJn40KM5bnq9_hvkEjuaS3pBlVSU49Juo6DS3bxEiussyzY3jFntof1_HNVKh2AlMr8DksikDOw">
<meta property="og:updated_time" content="2017-10-10T03:37:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="database">
<meta name="twitter:description" content="database questions review">
<meta name="twitter:image" content="https://lh3.googleusercontent.com/4uK2KdyZQ4faAdOZSNHV-wQlXGRsSNY1mA2HKtGFwuSoiK4lm3GdHsA3TE-C1gxl-rbpyeJ0-IrrAUQTsJp3HL908_zTRp-TnnfQ3_OgBIVquemXkoT1v0MFZSzJMDu7kxtCB7OyBw">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=2.4.x" />



  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css" />





<script>
  var CONFIG = {
    search: true,
    searchPath: "/search.xml",
    fancybox: true,
    toc: true,
  }
</script>




  

  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-83143113-1', 'auto');
        ga('send', 'pageview');
  </script>



    <title> database · Stewart </title>
  </head>

  <body><div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/." class="logo">Stewart</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>

<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    
      <a href="/">
        <li class="mobile-menu-item">
          
          
            Home
          
        </li>
      </a>
    
      <a href="/archives/">
        <li class="mobile-menu-item">
          
          
            Archives
          
        </li>
      </a>
    
      <a href="/tags">
        <li class="mobile-menu-item">
          
          
            Tags
          
        </li>
      </a>
    
      <a href="/categories">
        <li class="mobile-menu-item">
          
          
            Categories
          
        </li>
      </a>
    
      <a href="/about">
        <li class="mobile-menu-item">
          
          
            About
          
        </li>
      </a>
    
      <a href="/game">
        <li class="mobile-menu-item">
          
          
            Game
          
        </li>
      </a>
    
  </ul>
</nav>

    <div class="container" id="mobile-panel">
      <header id="header" class="header"><div class="logo-wrapper">
  <a href="/." class="logo">Stewart</a>
</div>

<nav class="site-navbar">
  
    <ul id="menu" class="menu">
      
        <li class="menu-item">
          <a class="menu-item-link" href="/">
            
            
              Home
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/archives/">
            
            
              Archives
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/tags">
            
            
              Tags
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/categories">
            
            
              Categories
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/about">
            
            
              About
            
          </a>
        </li>
      
        <li class="menu-item">
          <a class="menu-item-link" href="/game">
            
            
              Game
            
          </a>
        </li>
      
      
        <li class="menu-search">
          <form>
            <i class="iconfont icon-search" id="open-search"></i>
            <input type="text" class="search-input" id="search-input" />
            <i class="iconfont icon-close" id="close-search"></i>
          </form>
        </li>
      
    </ul>
  
</nav>

      </header>

      <main id="main" class="main">
        <div class="content-wrapper">
          <div id="content" class="content">
            
  
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          database
        
      </h1>

      <div class="post-meta">
        <span class="post-time">
          Oct 9, 2017
        </span>
      </div>
    </header>

    
    
  <div class="post-toc" id="post-toc">
    <h2 class="post-toc-title">Contents</h2>
    <div class="post-toc-content">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Transaction"><span class="toc-text">Transaction</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#defination"><span class="toc-text">defination</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#two-main-purposes"><span class="toc-text">two main purposes</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#four-properties"><span class="toc-text">four properties</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#transaction-exception"><span class="toc-text">transaction exception</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#four-isolation-level"><span class="toc-text">four isolation level</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locks"><span class="toc-text">locks</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Index"><span class="toc-text">Index</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#defination-1"><span class="toc-text">defination</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#indices"><span class="toc-text">indices</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Questions"><span class="toc-text">Questions</span></a></li></ol>
    </div>
  </div>


    <div class="post-content">
      
        <h2 id="Transaction"><a href="#Transaction" class="headerlink" title="Transaction"></a>Transaction</h2><h4 id="defination"><a href="#defination" class="headerlink" title="defination"></a>defination</h4><p>transaction is a sequence of operations and performed as a signle logic unit of work</p>
<h4 id="two-main-purposes"><a href="#two-main-purposes" class="headerlink" title="two main purposes"></a>two main purposes</h4><ul>
<li><p>To provide reliable units of work that allow correct recovery from failures and keep a database consistent even in cases of system failure</p>
</li>
<li><p>To provide isolation between programs accessing a database concurrently</p>
</li>
</ul>
<h4 id="four-properties"><a href="#four-properties" class="headerlink" title="four properties"></a>four properties</h4><ul>
<li><strong>Atomic</strong>: requires that each transaction be “all or nothing”: if one part of the transaction fails, then the entire transaction fails, and the database state is left unchanged. </li>
<li><strong>Consistent</strong>: ensures that any transaction will bring the database from one valid state to another. Integrity constraints must be maintained so that the database is consistent before and after the transaction.</li>
<li><strong>Isolated</strong>: ensures that multiple transactions can occur concurrently without leading to inconsistency of database state</li>
<li><strong>Durable</strong>: ensures that once the transaction has completed execution, the updates and modifications to the database are stored in and written to disk and they persist even is system failure occurs</li>
</ul>
<h4 id="transaction-exception"><a href="#transaction-exception" class="headerlink" title="transaction exception"></a>transaction exception</h4><ul>
<li><strong>Dirty read</strong>: occurs when a transaction is allowed to read data from a row that has been modified by another running transaction and not yet committed</li>
<li><strong>Non-repeatable reads</strong>: when during the course of a transaction, a row is retrieved twice and the values within the row differ between reads</li>
<li><strong>Phantom reads</strong>: occurs when, in the course of a transaction, two identical queries are executed, and the collection of rows returned by the second query is different from the first.</li>
<li><strong>Lost update</strong>: A second transaction writes a second value of a data-item (datum) on top of a first value written by a first concurrent transaction, and the first value is lost to other transactions running concurrently which need, by their precedence, to read the first value</li>
</ul>
<h4 id="four-isolation-level"><a href="#four-isolation-level" class="headerlink" title="four isolation level"></a>four isolation level</h4><ul>
<li><strong>Serializable</strong>:  serializability requires read and write locks (acquired on selected data) to be released at the end of the transaction. Also range-locks must be acquired when a SELECT query uses a ranged WHERE clause</li>
<li><strong>Repeatable reads</strong>:  keeps read and write locks (acquired on selected data) until the end of the transaction. However, range-locks are not managed, so phantom reads can occur.</li>
<li><strong>Read committed</strong>: keeps write locks (acquired on selected data) until the end of the transaction, but read locks are released as soon as the SELECT operation is performed.</li>
<li><strong>Read uncommitted</strong>: This is the lowest isolation level. In this level, dirty reads are allowed, so one transaction may see not-yet-committed changes made by other transactions.</li>
</ul>
<h4 id="locks"><a href="#locks" class="headerlink" title="locks"></a>locks</h4><ul>
<li><strong>Exclusive locks</strong>: Exclusive locks are, as the name implies, exclusively held by a single entity, usually for the purpose of writing to the record. If the locking schema was represented by a list, the holder list would contain only one entry.</li>
<li><strong>Shared locks</strong>: Shared locks differ from exclusive locks in that the holder list can contain multiple entries. Shared locks allow all holders to read the contents of the record knowing that the record cannot be changed until after the lock has been released by all holders</li>
</ul>
<hr>
<h2 id="Index"><a href="#Index" class="headerlink" title="Index"></a>Index</h2><h4 id="defination-1"><a href="#defination-1" class="headerlink" title="defination"></a>defination</h4><p>A database index is a data structure that improves the speed of data retrieval operations on a database table at the cost of additional writes and storage space to maintain the index data structure</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">CREATE [UNIQUE|FULLTEXT|SPATIAL] INDEX index_name</div><div class="line">    [index_type]</div><div class="line">    ON tbl_name (index_col_name,...)</div><div class="line">    [index_option]</div><div class="line">    [algorithm_option | lock_option] ...</div><div class="line"></div><div class="line">index_col_name:</div><div class="line">    col_name [(length)] [ASC | DESC]</div><div class="line"></div><div class="line">index_option:</div><div class="line">    KEY_BLOCK_SIZE [=] value</div><div class="line">  | index_type</div><div class="line">  | WITH PARSER parser_name</div><div class="line">  | COMMENT &apos;string&apos;</div><div class="line"></div><div class="line">index_type:</div><div class="line">    USING &#123;BTREE | HASH&#125;</div><div class="line"></div><div class="line">algorithm_option:</div><div class="line">    ALGORITHM [=] &#123;DEFAULT|INPLACE|COPY&#125;</div><div class="line"></div><div class="line">lock_option:</div><div class="line">    LOCK [=] &#123;DEFAULT|NONE|SHARED|EXCLUSIVE&#125;</div></pre></td></tr></table></figure>
<hr>
<h4 id="indices"><a href="#indices" class="headerlink" title="indices"></a>indices</h4><ul>
<li><strong>Ordered indices</strong>: Indices are based on a sorted ordering of the values </li>
<li><strong>Hash indices</strong>: Indices are based on the values being distributed uniformly across a range of buckets. The buckets to which a value is assigned is determined by function called a hash function.</li>
</ul>
<h2 id="Questions"><a href="#Questions" class="headerlink" title="Questions"></a>Questions</h2><ul>
<li>What are advantages of DBMS over traditional file based systems?<ul>
<li>Data redundancy and inconsistency</li>
<li>Difﬁculty in accessing data</li>
<li>Data isolation – multiple ﬁles and formats</li>
<li>Integrity problems</li>
<li>Atomicity of updates</li>
<li>Concurrent access by multiple users</li>
<li>Security problems</li>
</ul>
</li>
<li><p>What are super, primary, candidate and foreign keys?</p>
<ul>
<li>a superkey is a attribute set which can identify a row</li>
<li>a candidate key is minimal superkey</li>
<li>a primary key is one of the candidate keys</li>
<li>foreign key is a field (or collection of fields) in one table that uniquely identifies a row of another table</li>
</ul>
</li>
<li><p>What is the difference between primary key and unique constraints?</p>
<ul>
<li>Primary key cannot have NULL value, the unique constraints can have NULL values. There is only one primary key in a table, but there can be multiple unique constrains</li>
</ul>
</li>
<li><p>What is database normalization?</p>
<ul>
<li>It is a process of analyzing the given relation schemas based on their functional dependencies and primary keys to achieve the following desirable properties: Minimizing Redundancy, Minimizing the Insertion, Deletion, And Update Anomalies</li>
</ul>
</li>
<li><p>What is the difference between having and where clause?</p>
<ul>
<li>HAVING is used to specify a condition for a group or an aggregate function used in select statement. The WHERE clause selects before grouping. The HAVING clause selects rows after grouping. Unlike HAVING clause, the WHERE clause cannot contain aggregate functions</li>
<li><strong>SELECT name, section FROM tbl GROUP BY name, section HAVING COUNT(*) &gt; 1</strong></li>
</ul>
</li>
<li><p>What is Join?</p>
<ul>
<li>An SQL Join is used to combine data from two or more tables, based on a common field between them</li>
<li><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">SELECT StudentCourse.CourseID, Student.StudentName</div><div class="line">      FROM StudentCourse</div><div class="line">      INNER JOIN Customers </div><div class="line">      ON StudentCourse.EnrollNo = Student.EnrollNo</div><div class="line">      ORDER BY StudentCourse.CourseID;</div></pre></td></tr></table></figure>
</li>
<li><p>full join<br><img src="https://lh3.googleusercontent.com/4uK2KdyZQ4faAdOZSNHV-wQlXGRsSNY1mA2HKtGFwuSoiK4lm3GdHsA3TE-C1gxl-rbpyeJ0-IrrAUQTsJp3HL908_zTRp-TnnfQ3_OgBIVquemXkoT1v0MFZSzJMDu7kxtCB7OyBw" alt="full join"></p>
</li>
<li>left join<br><img src="https://lh3.googleusercontent.com/g5STD0f-sAMFWdPt_qz-PejAavBt5X_aJTRcY4ehkgeZL2-LGF1hCcjaTcoqHQWywoa7hveb4hQWiRNH8duj2p7kmJJSXwBE5FLDyPlyuXY1_n0uvUPtmCIuDBJ82MrBY4l_DqLsNg" alt="left join"></li>
<li>right join<br><img src="https://lh3.googleusercontent.com/ryjSfmU2QkL6eujCQwk8ypZ_VuoEWZ887PvZWaJN2w3NHyMvFTrPXX7iMi5148ygZjPwzGg6fDu2tIfzyTehXQ3ysofB_c__1D3k-pCGtcUgA8DBZ9CFk-mzub7CGOCwXhDVAT1ZLA" alt="right join"></li>
<li>inner join<br><img src="https://lh3.googleusercontent.com/3OZv-4kbUo9Z00aHDEEuvS8iuhS3BnM90qMmaa53j3G_kvMeC6kgm_4JE5qZS-kqJn40KM5bnq9_hvkEjuaS3pBlVSU49Juo6DS3bxEiussyzY3jFntof1_HNVKh2AlMr8DksikDOw" alt="inner join"></li>
</ul>
</li>
<li><p>What is a view in SQL? How to create one</p>
<ul>
<li>A view is a virtual table based on the result-set of an SQL statement. We can create using create view syntax.</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">  CREATE VIEW view_name AS</div><div class="line">SELECT column_name(s)</div><div class="line">FROM table_name</div><div class="line">WHERE condition</div></pre></td></tr></table></figure>
</li>
<li><p>What is a Trigger?</p>
<ul>
<li>A Trigger is a code that associated with insert, update or delete operations. The code is executed automatically whenever the associated query is executed on a table. Triggers can be useful to maintain integrity in database.</li>
</ul>
</li>
<li><p>What is a stored procedure?</p>
<ul>
<li>It contains a set of operations that are commonly used in an application to do some common database tasks.</li>
</ul>
</li>
<li><p>What is the difference between Trigger and Stored Procedure?</p>
<ul>
<li>Unlike Stored Procedures, Triggers cannot be called directly. They can only be associated with queries.</li>
</ul>
</li>
<li><p>What are clustered and non-clustered Indexes?</p>
<ul>
<li>Clustered indexes is the index according to which data is physically stored on disk. Therefore, only one clustered index can be created on a given database table.<br>Non-clustered indexes don’t define physical ordering of data, but logical ordering. Typically, a tree is created whose leaf point to disk records. B-Tree or B+ tree are used for this purpos</li>
</ul>
</li>
<li><p>Query to find 2nd highest salary of an employee?</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">select min(price) from (SELECT Price FROM Products order by price desc limit 2);</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>

    
      
      



      
      
  <div class="post-reward">
    <input type="checkbox" name="reward" id="reward" hidden />
    <label class="reward-button" for="reward">Reward</label>
    <div class="qr-code">
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/wechat.png" title="wechat">
        </label>
      
      
        <label class="qr-code-image" for="reward">
          <img class="image" src="/image/reward/alipay.jpg" title="alipay">
        </label>
      
    </div>
  </div>

    

    
      <footer class="post-footer">
        
          <div class="post-tags">
            
              <a href="/tags/database/">database</a>
            
          </div>
        
        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2017/10/10/os/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">os</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2017/09/16/InterestingQuestions/">
        <span class="next-text nav-default">InterestingQuestions</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

      </footer>
    

  </article>


          </div>
          
  <div class="comments" id="comments">
    
      <div id="disqus_thread">
        <noscript>
          Please enable JavaScript to view the
          <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
        </noscript>
      </div>
    
  </div>


        </div>  
      </main>

      <footer id="footer" class="footer">

  <div class="social-links">
    
      
        
          <a href="mailto:wangtaoo665@email.com" class="iconfont icon-email" title="email"></a>
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
    
    
      
      <a href="/atom.xml" class="iconfont icon-rss" title="rss"></a>
    
  </div>


<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a>
  </span>
  
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/ahonn/hexo-theme-even">Even</a>
  </span>

  <span class="copyright-year">
    
    &copy; 
     
      2015 - 
    
    2017

    <span class="heart">
      <i class="iconfont icon-heart"></i>
    </span>
    <span class="author">Tao</span>
  </span>
</div>
      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>

    
  
  <script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://yoursite.com/2017/10/09/database/';
        this.page.identifier = '2017/10/09/database/';
        this.page.title = 'database';
    };
    (function() {
    var d = document, s = d.createElement('script');

    s.src = '//taobupt.disqus.com/embed.js';

    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
    })();  
  </script>




    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/slideout/slideout.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  


    <script type="text/javascript" src="/js/src/even.js?v=2.4.x"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=2.4.x"></script>

    
  <script type="text/html" id="search-result">
    <article class="post">
      <header class="post-header">
        <h1 class="post-title">
          <a href="$url$" class="post-link">
            $title$
          </a>
        </h1>
      </header>
      <div class="post-content">
        $content$
        <div class="read-more">
          <a href="$url$" class="read-more-link">
            Read more..
          </a>
        </div>
      </div>
    </article>
  </script>
  <script type="text/html" id="no-search-result">
    <div class="no-result">
      <h2>No result found!</h2>
    </div>
  </script>
  <script type="text/javascript" src="/js/src/search.js?v=2.4.x"></script>

  </body>
</html>
